#!/usr/bin/env bash

# <root>
# <root>/

# verifies that required arguments are passed in
function check_args {

}

# verifies that required environment variables are set
function check_environment {
  if [[ -z $LASTPASS_BASE_FOLDER ]]; then
    echo "[check_environment] Missing required environment variable: LASTPASS_BASE_FOLDER"
    return 1
  fi

  if [[ -z $LASTPASS_USERNAME ]]; then
    echo "[check_environment] Missing required environment variable: LASTPASS_USERNAME"
    return 1
  fi
}

errorMessage=$(check_args)
if [[ $? != 0 ]]; then
  echo "${errorMessage}" 1>&2
  echo "Unable to fetch secret."  1>&2
  exit 1
fi

errorMessage=$(check_environment)
if [[ $? != 0 ]]; then
  echo "${errorMessage}" 1>&2
  echo "Unable to fetch secret."  1>&2
  exit 1
fi

secretBasePath="${LASTPASS_BASE_FOLDER}"
